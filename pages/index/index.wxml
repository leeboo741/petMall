<!--index.wxml-->
<i-navigation-bar title='首页'
                  showBackButton='{{false}}'>
</i-navigation-bar>

<!-- 搜索框 -->
<view class="search-box">
  <view class="search-content">
    <i-icon type="search"
            size="35">
    </i-icon>
    <input class="search-input"
           bindfocus="searchInputFocus"
           placeholder="搜宠物、商家、品牌">
    </input>
  </view>
</view>

<!-- banner -->
<swiper class='banner'
        circular="{{true}}"
        indicator-dots="{{true}}"
        autoplay="{{true}}"
        interval="5000"
        duration="300"
        vertical="{{false}}"
        indicator-active-color="#7bbfea"
        indicator-color="#cccccc">
  <swiper-item wx:for="{{bannerDataSource}}"
               wx:for-item="bannerItem"
               wx:for-index="bannerIndex"
               wx:key="bannerIndex">
    <view class='banner-item'
          data-index="{{bannerIndex}}"
          data-link="{{bannerItem.link}}"
          data-imageurl="{{bannerItem.imageUrl}}"
          bindtap='tapBanner'>
      <i-image i-class='banner-item-image'
               mode='scaleToFill'
               lazy-load='{{true}}'
               imageSrc='{{bannerItem.imageUrl}}'
               placeholderSrc='../../resource/placeholder.jpg'
               failSrc='../../resource/fail.png'>
      </i-image>
    </view>
  </swiper-item>
</swiper>

<!-- 快速入口 -->
<view class="fast-action-area">
  <view wx:for="{{fastActionList}}"
        wx:for-item='fastActionItem'
        wx:for-index='fastActionIndex'
        wx:key='{{fastActionIndex}}'
        class="fast-action-item">
    <image class="fast-action-icon"
           src='{{fastActionItem.iconPath}}'>
    </image>
    <view class="fast-action-title">
    {{fastActionItem.actionName}}
    </view>
  </view>
</view>

<!-- 特惠抢购 -->
<i-panel>
  <view class="section-title-area">
    <i-icon type="star"
            size="32"
            color="#ff9900">
    </i-icon>
    <view class="section-title" style="color: #ff9900">
    特惠抢购
    </view>
    <view class="section-info">
    </view>
    <view class="section-more">
    更多
    </view>
    <i-icon type="right-arrow"
            size="32">
    </i-icon>
  </view>
  <scroll-view class="section-scroll-h"
               scroll-x
               enable-flex>
      <view wx:for='{{preferentialList}}'
            wx:for-item="preferentialItem"
            wx:for-index="preferentialIndex"
            wx:key='{{preferentialIndex}}'
            class="goods-item">
        <view class="goods-image-box">
          <i-image i-class="goods-image"
                   imageSrc='{{preferentialItem.imagePath}}'
                   placeholderSrc='../../resource/placeholder.jpg'
                   failSrc='../../resource/fail.png'>
          </i-image>
        </view>
        
        <view class="goods-info-box">
          <view class="goods-info-line">
            <view class="text-name">
            {{preferentialItem.name}}
            </view>
            <view class="text-price">
            ￥{{preferentialItem.preferentialPrice}}
            </view>
          </view>
          <view class="goods-info-line">
            <view class="text-address">
            {{preferentialItem.province}} {{preferentialItem.city}}
            </view>
            <view class="text-original-price">
            ￥{{preferentialItem.originalPrice}}
            </view>
          </view>
        </view>
      </view>
  </scroll-view>
</i-panel>

<!-- 最新上架 -->
<i-panel>
  <view class="section-title-area">
    <i-icon type="clock"
            size="32"
            color="#ff6600">
    </i-icon>
    <view class="section-title" style="color: #ff6600">
    最新上架
    </view>
    <view class="section-info">
    </view>
    <view class="section-more">
    更多
    </view>
    <i-icon type="right-arrow"
            size="32">
    </i-icon>
  </view>
  <scroll-view class="section-scroll-h"
               scroll-x
               enable-flex>
      <view wx:for='{{newestList}}'
            wx:for-item="newestItem"
            wx:for-index="newestIndex"
            wx:key='{{newestIndex}}'
            class="goods-item">
        <view class="goods-image-box">
          <i-image i-class="goods-image"
                   imageSrc='{{newestItem.imagePath}}'
                   placeholderSrc='../../resource/placeholder.jpg'
                   failSrc='../../resource/fail.png'>
          </i-image>
        </view>
        
        <view class="goods-info-box">
          <view class="goods-info-line">
            <view class="text-name">
            {{newestItem.name}}
            </view>
          </view>
          <view class="goods-info-line">
            <view class="text-price">
            ￥{{newestItem.price}}
            </view>
            <view class="text-time">
            {{parse.getDuringTime(newestItem.releaseDate, newestItem.releaseTime)}}
            </view>
          </view>
        </view>
      </view>
  </scroll-view>
</i-panel>

<!-- 精品宠物 -->
<i-panel>
  <view class="section-title-area">
    <i-icon type="vip"
            size="32"
            color="#ff6600">
    </i-icon>
    <view class="section-title" style="color: #ff6600">
    精品宠物
    </view>
    <view class="section-info">
    </view>
    <view class="section-more">
    平台审核，精品保证
    </view>
    <i-icon type="right-arrow"
            size="32">
    </i-icon>
  </view>
  <view class="section-content-flex">
    <view wx:for='{{fineList}}'
          wx:for-item="fineItem"
          wx:for-index="fineIndex"
          wx:key='{{fineIndex}}'
          class="goods-flex-item">
      <view class="goods-image-box">
        <i-image i-class="goods-flex-image"
                  imageSrc='{{fineItem.imagePath}}'
                  placeholderSrc='../../resource/placeholder.jpg'
                  failSrc='../../resource/fail.png'>
        </i-image>
      </view>
        
      <view class="goods-info-box">
        <view class="goods-info-line">
          <view class="text-name">
          {{fineItem.name}}
          </view>
        </view>
        <view class="goods-info-line">
          <view class="text-price">
          ￥{{fineItem.price}}
          </view>
          <view class="text-address">
          {{fineItem.province}} {{fineItem.city}}
          </view>
        </view>
      </view>  
    </view>
  </view>
  <view class="section-foot-area">
    <view class="section-foot-button"
          style="color: #ff6600;">
      <view class="section-foot-title">
      进入精品馆
      </view>
      <i-icon type="right-arrow-circle"
              size="32">
      </i-icon>
    </view>
  </view>
</i-panel>

<!-- 高端宠物 -->
<i-panel>
  <view class="section-title-area">
    <i-icon type="cup"
            size="32"
            color="#ff6600">
    </i-icon>
    <view class="section-title" style="color: #ff6600">
    高端宠物
    </view>
    <view class="section-info">
    </view>
    <view class="section-more">
    一宠一芯 纯种保证 健康保障
    </view>
    <i-icon type="right-arrow"
            size="32">
    </i-icon>
  </view>
  <view class="section-content-flex">
    <view wx:for='{{upscaleList}}'
          wx:for-item="upscaleItem"
          wx:for-index="upscaleIndex"
          wx:key='{{upscaleIndex}}'
          class="goods-flex-item">
      <view class="goods-image-box">
        <i-image i-class="goods-flex-image"
                  imageSrc='{{upscaleItem.imagePath}}'
                  placeholderSrc='../../resource/placeholder.jpg'
                  failSrc='../../resource/fail.png'>
        </i-image>
      </view>
        
      <view class="goods-info-box">
        <view class="goods-info-line">
          <view class="text-name">
          {{upscaleItem.name}}
          </view>
        </view>
        <view class="goods-info-line">
          <view class="text-price">
          ￥{{upscaleItem.price}}
          </view>
          <view class="text-address">
          {{upscaleItem.province}} {{upscaleItem.city}}
          </view>
        </view>
      </view>  
    </view>
  </view>
  <view class="section-foot-area">
    <view class="section-foot-button"
          style="color: #ff6600;">
      <view class="section-foot-title">
      进入高端馆
      </view>
      <i-icon type="right-arrow-circle"
              size="32">
      </i-icon>
    </view>
  </view>
</i-panel>

<!-- 养宠套餐 -->
<i-panel>
  <view class="section-title-area">
    <i-icon type="bone"
            size="32"
            color="#ff6600">
    </i-icon>
    <view class="section-title" style="color: #ff6600">
    养宠套餐
    </view>
    <view class="section-info">
    </view>
  </view>
  <view class="section-content-flex">
    <view wx:for='{{setMenuList}}'
          wx:for-item="setMenuItem"
          wx:for-index="setMenuIndex"
          wx:key='{{setMenuIndex}}'
          class="setmenu-item">
      <view class="setmenu-item-content">
        <view class="setmenu-item-info">
          <view class="text-name">
          {{setMenuItem.name}}
          </view>
          <view class="text-info">
          {{setMenuItem.info}}
          </view>
        </view>
        <i-image i-class="setmenu-item-icon"
                imageSrc='{{setMenuItem.iconPath}}'
                placeholderSrc='../../resource/placeholder.jpg'
                failSrc='../../resource/fail.png'>
        </i-image>
      </view>
    </view>
  </view>
</i-panel>

<wxs module='parse'>
  module.exports={
    getDuringTime: function(date, time) {
      return "1天前"
    }
  }
</wxs>